!function(){"use strict";class t{constructor(t){this.cells=[];for(let i=0;i<16;i++){const i=document.createElement("div");i.classList.add("cell"),this.cells.push(i),t.insertBefore(i,null)}}}const i=document.querySelector(".field"),s=document.querySelector(".score"),e=new class{constructor(i,s){this.fieldElem=i,this.field=new t(i),this.score=s,this.points=0,this.goblinIdx=this.getNewPosition(-1),this.failedPoints=0}init(t){t.addEventListener("click",(t=>{t.target.classList.contains("goblin")&&(this.points++,this.failed=!1,this.score.textContent=`Score: ${this.points}`,t.target.classList.remove("goblin"))})),this.renderGoblin(this.goblinIdx)}renderGoblin(t){this.field.cells[t].classList.add("goblin")}move(){this.failed&&(this.failedPoints++,5===this.failedPoints&&(alert("Game over!"),this.restart()));const t=this.field.cells.findIndex((t=>t.classList.contains("goblin")));t>-1&&this.field.cells[t].classList.remove("goblin"),this.goblinIdx=this.getNewPosition(this.goblinIdx),this.renderGoblin(this.goblinIdx),this.failed=!0}getNewPosition(t){const i=Math.floor(Math.random()*this.field.cells.length);return t===i?this.getNewPosition(t):i}restart(){this.points=0,this.score.textContent=`Score: ${this.points}`,this.failedPoints=0,this.init(this.fieldElem)}}(i,s);e.init(i),setInterval(e.move.bind(e),2e3)}();